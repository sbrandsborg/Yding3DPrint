<!doctype html>
<html lang="da">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Yding 3D Print - Priser & Beregner</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg-color: #f4f4f4;
        --text-color: #333;
        --container-bg: #ffffff;
        --input-bg: #ffffff;
        --input-color: #000000;
        --input-border: #cccccc;
        --button-bg: #28a745;
        --button-hover-bg: #218838;
        --info-bg: #fff3cd;
        --info-border: #ffa000;
        --link-color: #1a0dab;
        --link-hover-color: #0a58ca;
      }

      body {
        font-family: "Rubik", sans-serif;
        margin: 0;
        padding: 0;
        background-color: var(--bg-color);
        color: var(--text-color);
        text-align: center;
      }

      .container {
        max-width: 800px;
        margin: 40px auto;
        padding: 20px;
        background: var(--container-bg);
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }

      h1,
      h2,
      h3 {
        color: var(--text-color);
      }

      input {
        width: 100%;
        padding: 10px;
        margin: 10px 0;
        border: 1px solid var(--input-border);
        border-radius: 5px;
        font-size: 16px;
        background-color: var(--input-bg);
        color: var(--input-color);
      }

      button {
        background: var(--button-bg);
        color: white;
        padding: 10px;
        border: none;
        border-radius: 5px;
        font-size: 18px;
        cursor: pointer;
      }

      button:hover {
        background: var(--button-hover-bg);
      }

      .theme-toggle {
        float: right;
      }

      .result {
        margin-top: 20px;
        font-size: 18px;
        font-weight: bold;
      }

      .info-box {
        margin-top: 20px;
        padding: 20px;
        background: var(--info-bg);
        border-left: 5px solid var(--info-border);
        text-align: left;
      }

      a {
        color: var(--link-color);
        text-decoration: underline;
      }

      a:hover {
        color: var(--link-hover-color);
      }

      .icon {
        width: 20px;
        height: 20px;
        vertical-align: middle;
        margin-right: 5px;
      }

      body.dark {
        --bg-color: #121212;
        --text-color: #eeeeee;
        --container-bg: #1e1e1e;
        --input-bg: #333333;
        --input-color: #eeeeee;
        --input-border: #555555;
        --button-bg: #3a9d64;
        --button-hover-bg: #2d7d51;
        --info-bg: #333333;
        --info-border: #ffa000;
        --link-color: #82cfff;
        --link-hover-color: #58a6ff;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <button id="themeToggle" class="theme-toggle"></button>
      <h1>üñ®Ô∏è Yding 3D Print</h1>
      <h3>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="icon"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"
          />
        </svg>
        Jeg k√∏bte en 3D printer og har printet i mange timer ‚Äì nu har jeg
        ledig kapacitet til at tage ordrer for det lokale community. Hvis du
        ikke har knowhow, √∏konomi eller mulighed for at printe selv, s√• hj√¶lper
        jeg gerne! üéâ
      </h3>
      <p>üìç Yding Toft 8B, 8752 √òstbirk</p>
      <p>üìû Kontakt: steffen@sbrandsborg.dk</p>
      <p>üî¢ CVR: 42002984</p>
      <p>üí∞ MobilePay Box: <strong>8125HG</strong></p>
      <p>
        üí¨
        <strong
          >Jeg foretr√¶kker, at du skriver til mig p√• Facebook Messenger:</strong
        ><!-- prettier-ignore --><a href="https://www.facebook.com/messages/t/580122692" target="_blank"><svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><title>Messenger</title><path fill="#00B2FF" d="M12 0C5.37 0 0 4.98 0 11.11c0 3.5 1.67 6.6 4.28 8.62v4.27l3.9-2.14c1.15.32 2.38.49 3.82.49 6.63 0 12-4.98 12-11.11S18.63 0 12 0zm1.19 14.94l-3.2-3.43-6.22 3.43 6.66-7.08 3.25 3.43 6.18-3.43-6.67 7.08z"/></svg>Send en besked her</a>
      </p>
      <p>
        üîó Links:<!-- prettier-ignore --><a href="https://www.instagram.com/yding3dprint/" target="_blank" aria-label="Instagram"><svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><title>Instagram</title><path fill="#E4405F" d="M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm10 2c1.7 0 3 1.3 3 3v10c0 1.7-1.3 3-3 3H7c-1.7 0-3-1.3-3-3V7c0-1.7 1.3-3 3-3h10zm-5 3.5A4.5 4.5 0 1 0 16.5 12 4.5 4.5 0 0 0 12 7.5zm0 7A2.5 2.5 0 1 1 14.5 12 2.5 2.5 0 0 1 12 14.5zm4.8-7.7a1 1 0 1 1-1-1 1 1 0 0 1 1 1z"/></svg></a
        ><!-- prettier-ignore --><a href="https://www.facebook.com/messages/t/580122692" target="_blank" aria-label="Messenger"><svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><title>Messenger</title><path fill="#00B2FF" d="M12 0C5.37 0 0 4.98 0 11.11c0 3.5 1.67 6.6 4.28 8.62v4.27l3.9-2.14c1.15.32 2.38.49 3.82.49 6.63 0 12-4.98 12-11.11S18.63 0 12 0zm1.19 14.94l-3.2-3.43-6.22 3.43 6.66-7.08 3.25 3.43 6.18-3.43-6.67 7.08z"/></svg></a>
      </p>

      <h2>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="icon"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"
          />
        </svg>
        Prisberegning
      </h2>
      <p id="navnDisplay"></p>
      <p>Indtast dit filamentforbrug og printtid for at se din pris.</p>

      <label>Filamentforbrug (g):</label>
      <input type="number" id="filament" placeholder="Indtast antal gram" />

      <label>Printtid (timer):</label>
      <input
        type="number"
        id="printtid"
        placeholder="Indtast printtid i timer"
      />

      <button onclick="beregnPris()">Beregn Pris</button>

      <div class="result" id="result"></div>

      <div class="info-box">
        <h2>üí∞ Prisberegner for 3D print</h2>
        <p>
          Hos Yding 3D Print beregnes prisen for dine 3D print baseret p√•
          materialeforbrug og printtid. Yding 3D Print √∏nsker at v√¶re 100%
          gennemsigtig om priss√¶tningen, s√• her kan du se pr√¶cis, hvordan prisen
          beregnes.
        </p>
        <ul>
          <li>
            üßµ <strong>Filament:</strong> Yding 3D Print bruger som standard
            PLA, PLA Matte og PETG-HF.
          </li>
          <li>
            üí∞ <strong>Filamentpris:</strong> 180,25 DKK/kg (0,18025 DKK/g)
          </li>
          <li>‚ö° <strong>Str√∏mpris:</strong> 3,00 DKK/kWh</li>
          <li>üîå <strong>Printerforbrug:</strong> 100W (0,1 kW) under print</li>
          <li>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="icon"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"
              />
            </svg>
            <strong>Markup:</strong> 300% (salgspris = cost √ó 3)
          </li>
          <li>‚è≥ <strong>Minimumspris:</strong> 30,00 DKK</li>
        </ul>
        <h3>S√•dan beregnes prisen</h3>
        <ol>
          <li>Filamentomkostning: Filamentforbrug (g) √ó 0,18025 DKK/g</li>
          <li>Str√∏momkostning: Printtid (timer) √ó 0,1 kW √ó 3,00 DKK/kWh</li>
          <li>Total omkostning = Filament + Str√∏m</li>
          <li>Salgspris = Total omkostning √ó 3 (markup)</li>
          <li>
            Endelig pris: Hvis salgsprisen er under 30 DKK, justeres den op til
            minimumsprisen.
          </li>
        </ol>
        <h3>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="icon"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"
            />
          </svg>
          Eksempel
        </h3>
        <ul>
          <li><strong>Filamentforbrug:</strong> 50 g</li>
          <li><strong>Printtid:</strong> 2 timer</li>
          <li><strong>Filamentomkostning:</strong> 50 √ó 0,18025 = 9,01 DKK</li>
          <li><strong>Str√∏momkostning:</strong> 2 √ó 0,1 √ó 3,00 = 0,60 DKK</li>
          <li><strong>Total omkostning:</strong> 9,61 DKK</li>
          <li>
            <strong>Salgspris:</strong> 9,61 √ó 3 = 28,83 DKK (justeres til 30
            DKK, da det er minimumsprisen).
          </li>
        </ul>
      </div>

      <div class="info-box">
        <h3>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="icon"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"
            />
          </svg>
          Disclaimer
        </h3>
        <p>
          3D print er opbygget af mange lag, og der kan derfor forekomme sm√•
          overfladefejl. Resultatet er n√¶sten altid perfekt, men meget komplekse
          modeller kan √¶ndre det endelige resultat. Hvis jeg, Yding 3D Print,
          vurderer at printet er i d√•rlig stand, bliver det naturligvis printet
          om uden beregning.
        </p>
      </div>
    </div>

    <script>
      let printNavn = "";
      const cartIcon = '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"/></svg>';
      const sunIcon = '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"/></svg>';
      const moonIcon = '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"/></svg>';

      const themeToggle = document.getElementById("themeToggle");

      function applyTheme(theme) {
        document.body.classList.toggle("dark", theme === "dark");
      }

      function updateToggleIcon() {
        themeToggle.innerHTML = document.body.classList.contains("dark")
          ? sunIcon
          : moonIcon;
      }

      function initTheme() {
        const storedTheme = localStorage.getItem("theme");
        if (storedTheme) {
          applyTheme(storedTheme);
        } else if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
          applyTheme("dark");
        }
        updateToggleIcon();
      }

      themeToggle.addEventListener("click", () => {
        const newTheme = document.body.classList.contains("dark")
          ? "light"
          : "dark";
        applyTheme(newTheme);
        localStorage.setItem("theme", newTheme);
        updateToggleIcon();
      });

      function beregnPris() {
        let filament =
          parseFloat(document.getElementById("filament").value) || 0;
        let printtid =
          parseFloat(document.getElementById("printtid").value) || 0;

        let filamentPrisPrGram = 0.18025;
        let stromPrisPrKWh = 3;
        let printerForbrugKW = 0.1;
        let markup = 3;
        let minPris = 30;

        let filamentOmkostning = filament * filamentPrisPrGram;
        let stromOmkostning = printtid * printerForbrugKW * stromPrisPrKWh;
        let totalOmkostning = filamentOmkostning + stromOmkostning;
        let salgsPris = totalOmkostning * markup;
        let endeligPris = Math.max(salgsPris, minPris);

        const navnTekst = printNavn ? ` for <strong>${printNavn}</strong>` : "";
        document.getElementById("result").innerHTML =
          `${cartIcon} Din pris${navnTekst}: <strong>${endeligPris.toFixed(2)} DKK</strong>`;
      }

      function prefillFraQuery() {
        const params = new URLSearchParams(window.location.search);
        const filamentParam = params.get("filament");
        const timeParam = params.get("printtid") || params.get("timer");
        const navnParam = params.get("navn") || params.get("name");

        if (filamentParam !== null) {
          document.getElementById("filament").value = filamentParam;
        }
        if (timeParam !== null) {
          document.getElementById("printtid").value = timeParam;
        }
        if (navnParam !== null) {
          printNavn = navnParam;
          document.getElementById("navnDisplay").innerHTML =
            `Prisestimat for: <strong>${printNavn}</strong>`;
        }
        if (filamentParam !== null || timeParam !== null) {
          beregnPris();
        }
      }

      document.addEventListener("DOMContentLoaded", () => {
        initTheme();
        prefillFraQuery();
      });
    </script>
  </body>
</html>
